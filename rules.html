<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GOALSTORM! - LOADING</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
/* --- 1. SETUP & ASSETS --- */
:root {
    /* Ensure these match your filenames exactly */
    --player-idle:    url('p1.png');
    --player-windup:  url('p2.png');
    --player-kick:    url('p3.png');
    
    --ball-normal:    url('b1.png');
    --ball-super:     url('b2.png');

    /* Animation Duration */
    --total-time: 1.2s;
}

/* --- 2. GLOBAL RESET --- */
* { box-sizing: border-box; margin: 0; padding: 0; }

body { 
    background: #000; 
    font-family: 'Press Start 2P', cursive; 
    overflow: hidden; 
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* --- 3. THE STING CONTAINER --- */
#sting-layer {
    position: fixed; 
    inset: 0; 
    z-index: 9999;
    background: #000;
    display: flex; 
    align-items: center; 
    justify-content: center;
    /* Clean fade out */
    animation: fadeOut 0.2s ease-out 1.4s forwards;
}

/* THE STAGE: Fixed Aspect Ratio (16:9) */
.arena {
    width: 100%;
    max-width: 800px;
    aspect-ratio: 16 / 9; 
    position: relative;
}

/* --- THE PLAYER --- */
.sprite-player {
    position: absolute; 
    left: 12%; 
    bottom: 0; 
    width: 30%; /* Responsive Size */
    aspect-ratio: 1/1; 
    z-index: 10; /* Player is IN FRONT of the ball */
    
    background-image: var(--player-idle);
    background-size: contain; 
    background-repeat: no-repeat; 
    background-position: bottom center;

    animation: player-sequence var(--total-time) step-end forwards;
}

/* --- THE SURGE BAR (Restored) --- */
.power-bar-container {
    position: absolute;
    top: 10%; /* Above player head */
    left: 10%;
    width: 80%; /* Width relative to player sprite */
    height: 10%;
    background: #222;
    border: 2px solid #fff;
    opacity: 0; /* Hidden until windup starts */
    animation: show-bar 0.1s linear 0s forwards;
}

.power-fill {
    height: 100%;
    width: 0%;
    background: #ffd60a; /* Yellow start */
    box-shadow: 0 0 5px #ff0055;
    animation: fill-bar 0.6s linear forwards; /* Fills during windup */
}

/* --- THE BALL --- */
.sprite-ball {
    position: absolute; 
    left: 42%; /* Moved RIGHT to clear player overlap */
    bottom: 2%; /* Slightly off floor */
    z-index: 5; /* Behind player */
    
    width: 8%; 
    aspect-ratio: 1/1; 
    
    background-image: var(--ball-normal);
    background-size: contain; 
    background-repeat: no-repeat;
    background-position: bottom left; 
    
    transform-origin: left bottom; 

    animation: ball-sequence var(--total-time) linear forwards;
}

/* --- TEXT FX --- */
.shout-text {
    position: absolute; 
    top: 15%; 
    left: 0; 
    width: 100%;
    text-align: center;
    color: #00f6ff; 
    font-size: 4vw; 
    opacity: 0;
    text-shadow: 4px 4px #ff0055;
    animation: text-pop 0.1s linear 0.6s forwards, text-hide 0.1s linear 1.0s forwards;
}

/* =========================================
   ANIMATION KEYFRAMES
   ========================================= */

/* PLAYER MOVEMENT */
@keyframes player-sequence {
    0%   { background-image: var(--player-idle); }
    50%  { background-image: var(--player-windup); }
    55%  { background-image: var(--player-kick); transform: translateX(5%); } 
    100% { background-image: var(--player-kick); transform: translateX(5%); }
}

/* BALL PHYSICS */
@keyframes ball-sequence {
    /* 1. IDLE STATE */
    0%   { background-image: var(--ball-normal); transform: translateX(0); width: 8%; }
    54%  { background-image: var(--ball-normal); transform: translateX(0); width: 8%; }
    
    /* 2. IMPACT (Instant Swap) */
    55%  { 
        background-image: var(--ball-super);  
        width: 40%; /* Fireball width */
        aspect-ratio: 3/1; 
        transform: translateX(0); 
        animation-timing-function: cubic-bezier(0.1, 1, 0.2, 1); 
    }
    
    /* 3. FLIGHT */
    100% { 
        background-image: var(--ball-super);
        width: 40%;
        aspect-ratio: 3/1;
        transform: translateX(300%); 
    }
}

/* UTILITIES */
@keyframes fill-bar { 
    0% { width: 0%; background: #ffd60a; } 
    100% { width: 100%; background: #ff0055; } /* Yellow -> Pink */
}
@keyframes show-bar { to { opacity: 1; } }

@keyframes text-pop { 0% { opacity: 0; transform: scale(0.5); } 100% { opacity: 1; transform: scale(1.2); } }
@keyframes text-hide { to { opacity: 0; } }
@keyframes fadeOut { to { opacity: 0; visibility: hidden; } }
@keyframes fadeInPage { to { opacity: 1; } }

/* =========================================
   HOMEPAGE
   ========================================= */
#homepage {
    position: absolute;
    width: 100%;
    height: 100vh;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    background: #0f0e17; color: #fff;
    opacity: 0; 
    animation: fadeInPage 0.5s ease-in 1.5s forwards;
}

.nav-bar { display: flex; gap: 20px; margin-bottom: 40px; }
.nav-bar a { color: #00f6ff; text-decoration: none; border: 1px solid #00f6ff; padding: 10px 20px; font-size: 14px; }
.hero h1 { font-size: 40px; color: #ffd60a; text-shadow: 4px 4px #ff0055; margin-bottom: 20px; text-align: center;}

</style>
</head>
<body>

    <div id="sting-layer">
        <div class="arena">
            <div class="sprite-player">
                <div class="power-bar-container"><div class="power-fill"></div></div>
            </div>
            <div class="sprite-ball"></div>
            <div class="shout-text">SURGE!</div>
        </div>
    </div>

    <div id="homepage">
        <div class="nav-bar">
            <a href="#">HOME</a>
            <a href="#">PLAY</a>
            <a href="#">SCORES</a>
        </div>
        <div class="hero">
            <h1>GOALSTORM!</h1>
            <p style="color:#aaa; font-family:monospace;">WELCOME TO ROUND 3</p>
        </div>
    </div>

<script>
    window.addEventListener('load', () => {
        setTimeout(() => {
            const sting = document.getElementById('sting-layer');
            if(sting) sting.remove();
        }, 2000); 
    });
</script>

</body>
</html>
