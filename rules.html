<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GOALSTORM! - LOADING</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
/* --- CONFIGURATION: SLOT YOUR IMAGES HERE --- */
:root {
    /* 1. Drop your PNGs into the project folder.
       2. Ensure they are named exactly as below, or change the filenames here.
    */
    --player-idle:    url('p1.png'); /* Charging/Idle */
    --player-windup:  url('p2.png'); /* Leg back/Ready */
    --player-kick:    url('p3.png'); /* Leg extended/Impact */
    
    --ball-normal:    url('b1.png'); /* Round ball */
    --ball-super:     url('b2.png'); /* Fireball/Streak */

    /* Animation Timing Settings */
    --charge-duration: 2s;
    --windup-time: 2.0s;
    --kick-time: 2.2s;
    --total-time: 3.5s;
}

/* --- CORE STYLES --- */
* { box-sizing: border-box; margin: 0; padding: 0; }
body { 
    background: #000; 
    font-family: 'Press Start 2P', cursive; 
    overflow: hidden; 
}

/* =========================================
   1. THE STING LAYER (The Animation)
   ========================================= */
#sting-layer {
    position: fixed; inset: 0; z-index: 9999;
    background: #000;
    display: flex; align-items: center; justify-content: center;
    /* Fades out the whole layer at the end */
    animation: fadeOut 0.2s ease-out var(--total-time) forwards;
}

.arena {
    position: relative; width: 100%; max-width: 800px; height: 400px;
    border-bottom: 4px solid #333;
    display: flex; align-items: flex-end;
}

/* --- THE PLAYER --- */
.sprite-player {
    position: absolute; left: 10%; bottom: 0;
    width: 150px; height: 150px; /* Adjust based on your PNG size */
    
    /* Image Handling */
    background-image: var(--player-idle);
    background-size: contain; 
    background-repeat: no-repeat; 
    background-position: bottom center;
    
    /* Fallback color if image missing */
    background-color: rgba(0, 255, 255, 0.1); 
    border: 1px dashed #444; 

    /* The Animation Sequence */
    animation: 
        player-shake 0.1s infinite, /* Shaking while charging */
        player-sequence var(--total-time) step-end forwards; /* Swapping Images */
}

/* --- THE BALL --- */
.sprite-ball {
    position: absolute; left: 30%; bottom: 10px;
    width: 50px; height: 50px; /* Adjust based on your PNG size */
    
    /* Image Handling */
    background-image: var(--ball-normal);
    background-size: contain; 
    background-repeat: no-repeat;
    background-position: center;

    /* Fallback color */
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 50%;

    /* The Animation Sequence */
    animation: ball-sequence var(--total-time) cubic-bezier(0.1, 0.9, 0.2, 1) forwards;
}

/* --- UI ELEMENTS (Bar, Text, Logo) --- */
.power-bar-container {
    position: absolute; top: -40px; left: 0; width: 100%; height: 10px;
    background: #222; border: 2px solid #fff;
}
.power-fill {
    height: 100%; width: 0%; background: #ff0055;
    animation: fill-bar var(--windup-time) linear forwards;
    box-shadow: 0 0 10px #ff0055;
}

.shout-text {
    position: absolute; top: -80px; left: 20px;
    color: #00f6ff; font-size: 24px; opacity: 0;
    text-shadow: 2px 2px #fff;
    animation: show-shout 0.2s linear var(--windup-time) forwards, hide-shout 0.1s linear var(--kick-time) forwards;
}

.final-logo {
    position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%) scale(0);
    color: #ffd60a; font-size: 60px; z-index: 100;
    text-shadow: 5px 5px 0 #ff0055;
    animation: logo-slam 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) 2.4s forwards;
}

.flash-screen {
    position: absolute; inset: 0; background: #fff; opacity: 0; pointer-events: none; z-index: 99;
    animation: flash 0.2s linear var(--kick-time) forwards;
}

/* =========================================
   ANIMATION KEYFRAMES
   ========================================= */

/* 1. PLAYER: Swaps p1 -> p2 -> p3 */
@keyframes player-sequence {
    0%   { background-image: var(--player-idle);   transform: translateX(0); }
    57%  { background-image: var(--player-windup); transform: translateX(-10px); animation-timing-function: ease-out; } /* 2.0s approx */
    63%  { background-image: var(--player-kick);   transform: translateX(40px); }  /* 2.2s approx (The Kick) */
    100% { background-image: var(--player-kick);   transform: translateX(40px); }
}

/* 2. BALL: Swaps b1 -> b2 and moves */
@keyframes ball-sequence {
    0%   { background-image: var(--ball-normal); transform: translateX(0) scale(1); }
    62%  { background-image: var(--ball-normal); transform: translateX(0) scale(1); }
    63%  { background-image: var(--ball-super);  transform: translateX(0) scale(1); width: 150px; } /* Switch to fireball */
    100% { background-image: var(--ball-super);  transform: translateX(1200px) scale(1); width: 150px; opacity: 1; }
}

/* 3. SHAKE: Adds vibration to player during idle */
@keyframes player-shake {
    0% { transform: translate(0, 0); }
    25% { transform: translate(1px, 1px); }
    50% { transform: translate(-1px, -1px); }
    75% { transform: translate(-1px, 1px); }
    100% { transform: translate(1px, -1px); }
}

/* UI Animations */
@keyframes fill-bar { 0% { width: 0%; background: lime; } 50% { background: yellow; } 100% { width: 100%; background: #ff0055; } }
@keyframes show-shout { to { opacity: 1; transform: scale(1.2); } }
@keyframes hide-shout { to { opacity: 0; } }
@keyframes flash { 0%, 100% { opacity: 0; } 50% { opacity: 1; } }
@keyframes logo-slam { to { transform: translate(-50%, -50%) scale(1); } }
@keyframes fadeOut { to { opacity: 0; visibility: hidden; } }

/* =========================================
   2. BASIC HOMEPAGE (What appears after)
   ========================================= */
#homepage {
    height: 100vh;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    background: #0f0e17; color: #fff;
    opacity: 0; /* Hidden initially, JS creates fade in effect implicitly via sting fade out */
    animation: fadeInPage 1s ease-in 3.5s forwards;
}

@keyframes fadeInPage { to { opacity: 1; } }

.nav-bar { display: flex; gap: 20px; margin-bottom: 40px; }
.nav-bar a { color: #05d9e8; text-decoration: none; border: 1px solid #05d9e8; padding: 10px 20px; }
.hero h1 { font-size: 40px; color: #ffc800; text-shadow: 4px 4px #ff2a6d; margin-bottom: 20px;}
</style>
</head>
<body>

    <div id="sting-layer">
        <div class="flash-screen"></div>
        <div class="final-logo">GOALSTORM!</div>
        
        <div class="arena">
            <div class="sprite-player">
                <div class="power-bar-container"><div class="power-fill"></div></div>
                <div class="shout-text">SURGE!</div>
            </div>

            <div class="sprite-ball"></div>
        </div>
    </div>

    <div id="homepage">
        <div class="nav-bar">
            <a href="#">HOME</a>
            <a href="#">PLAY</a>
            <a href="#">SCORES</a>
        </div>
        <div class="hero">
            <h1>GOALSTORM!</h1>
            <p style="color:#aaa; font-family:monospace;">WELCOME TO ROUND 3</p>
        </div>
    </div>

<script>
    // Simple clean up: remove the sting animation from DOM after it finishes
    // so it doesn't block clicks on the homepage
    window.addEventListener('load', () => {
        setTimeout(() => {
            const sting = document.getElementById('sting-layer');
            if(sting) sting.remove();
        }, 4000); // 4 seconds (animation is 3.5s + fade)
    });
</script>

</body>
</html>
