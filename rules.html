<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GOALSTORM! - LOADING</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
/* --- CONFIGURATION --- */
:root {
    /* IMAGES */
    --player-idle:    url('p1.png');
    --player-windup:  url('p2.png');
    --player-kick:    url('p3.png');
    
    --ball-normal:    url('b1.png');
    --ball-super:     url('b2.png');

    /* TIMING (1.2s Total) */
    /* We sync everything to percentages of 1.2s */
    --total-time: 1.2s;
}

/* --- CORE --- */
* { box-sizing: border-box; margin: 0; padding: 0; }
body { 
    background: #000; 
    font-family: 'Press Start 2P', cursive; 
    overflow: hidden; 
}

/* --- THE STING LAYER --- */
#sting-layer {
    position: fixed; inset: 0; z-index: 9999;
    background: #000;
    display: flex; align-items: center; justify-content: center;
    /* Fades out after animation finishes */
    animation: fadeOut 0.2s ease-out 1.3s forwards;
}

.arena {
    position: relative; width: 100%; max-width: 800px; height: 400px;
    display: flex; align-items: flex-end;
}

/* --- PLAYER --- */
.sprite-player {
    position: absolute; left: 10%; bottom: 0;
    width: 150px; height: 150px; 
    z-index: 2; /* Player stays in front of the ball start position */
    
    background-image: var(--player-idle);
    background-size: contain; 
    background-repeat: no-repeat; 
    background-position: bottom center;

    animation: 
        player-shake 0.05s infinite, 
        player-sequence var(--total-time) linear forwards;
}

/* --- BALL --- */
.sprite-ball {
    position: absolute; left: 28%; bottom: 10px; /* Adjusted slightly to fit foot */
    z-index: 1; /* Starts behind, but moves fast */
    
    /* Initial State (b1) */
    width: 40px; height: 40px; 
    background-image: var(--ball-normal);
    background-size: contain; 
    background-repeat: no-repeat;
    background-position: center left; /* Important for expansion */

    animation: ball-sequence var(--total-time) linear forwards;
}

/* --- UI FX --- */
.power-bar-container {
    position: absolute; top: -30px; left: 10px; width: 120px; height: 8px;
    background: #222; border: 2px solid #fff; opacity: 0.9;
}
.power-fill {
    height: 100%; width: 0%; background: #00f6ff;
    animation: fill-bar 0.6s linear forwards;
    box-shadow: 0 0 8px #00f6ff;
}

.shout-text {
    position: absolute; top: -70px; left: 20px;
    color: #ffd60a; font-size: 20px; opacity: 0;
    text-shadow: 3px 3px #ff0055;
    animation: text-pop 0.1s linear 0.6s forwards, text-hide 0.1s linear 0.8s forwards;
}

.flash-screen {
    position: absolute; inset: 0; background: #fff; opacity: 0; pointer-events: none; z-index: 999;
    animation: flash 0.15s linear 0.65s forwards;
}

/* =========================================
   KEYFRAMES - THE "PHYSICS"
   ========================================= */

/* PLAYER: 
   0-50%: Charging (Shake)
   50-55%: Windup (Leg Back)
   55-100%: Kick (Impact)
*/
@keyframes player-sequence {
    0%   { background-image: var(--player-idle);   transform: translateX(0); }
    50%  { background-image: var(--player-windup); transform: translateX(-5px); animation-timing-function: step-end; }
    55%  { background-image: var(--player-kick);   transform: translateX(20px); } 
    100% { background-image: var(--player-kick);   transform: translateX(20px); }
}

/* BALL:
   0-55%: Stationary, small, round.
   55%: IMPACT! Swap to fireball, increase width, launch.
*/
@keyframes ball-sequence {
    /* --- WAITING PHASE --- */
    0%   { 
        background-image: var(--ball-normal); 
        transform: translateX(0) scale(1); 
        width: 40px; 
    }
    54%  { 
        background-image: var(--ball-normal); 
        transform: translateX(0) scale(1.1); /* Slight swell before kick */
        width: 40px; 
    }
    
    /* --- IMPACT PHASE (Instant Switch) --- */
    55%  { 
        background-image: var(--ball-super);  
        transform: translateX(0) scale(1); 
        width: 180px; /* EXPANDS INSTANTLY FOR FIREBALL TRAIL */
        height: 80px; /* Fireball height adjustment */
        bottom: 20px; /* Slight lift */
        animation-timing-function: cubic-bezier(0.1, 1, 0.2, 1); /* EXPLOSIVE SPEED */
    }
    
    /* --- FLIGHT PHASE --- */
    100% { 
        background-image: var(--ball-super);  
        transform: translateX(2000px) scale(1); /* Flies off screen */
        width: 180px; 
        height: 80px;
        bottom: 20px;
    }
}

@keyframes player-shake {
    0% { transform: translate(0, 0); }
    50% { transform: translate(1px, 0); }
    100% { transform: translate(-1px, 0); }
}

@keyframes fill-bar { 0% { width: 0%; } 100% { width: 100%; } }
@keyframes text-pop { 0% { opacity: 0; transform: scale(0.5); } 100% { opacity: 1; transform: scale(1.2); } }
@keyframes text-hide { to { opacity: 0; } }
@keyframes flash { 0%, 100% { opacity: 0; } 50% { opacity: 1; } }
@keyframes fadeOut { to { opacity: 0; visibility: hidden; } }

/* =========================================
   HOMEPAGE
   ========================================= */
#homepage {
    height: 100vh;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    background: #0f0e17; color: #fff;
    opacity: 0; 
    animation: fadeInPage 0.5s ease-in 1.4s forwards;
}
@keyframes fadeInPage { to { opacity: 1; } }

.nav-bar { display: flex; gap: 20px; margin-bottom: 40px; }
.nav-bar a { color: #00f6ff; text-decoration: none; border: 1px solid #00f6ff; padding: 10px 20px; font-size: 12px; }
.hero h1 { font-size: 40px; color: #ffd60a; text-shadow: 4px 4px #ff0055; margin-bottom: 20px;}

</style>
</head>
<body>

    <div id="sting-layer">
        <div class="flash-screen"></div>
        <div class="arena">
            <div class="sprite-player">
                <div class="power-bar-container"><div class="power-fill"></div></div>
                <div class="shout-text">SURGE!</div>
            </div>
            <div class="sprite-ball"></div>
        </div>
    </div>

    <div id="homepage">
        <div class="nav-bar">
            <a href="#">HOME</a>
            <a href="#">PLAY</a>
            <a href="#">SCORES</a>
        </div>
        <div class="hero">
            <h1>GOALSTORM!</h1>
            <p style="color:#aaa; font-family:monospace;">WELCOME TO ROUND 3</p>
        </div>
    </div>

<script>
    window.addEventListener('load', () => {
        setTimeout(() => {
            const sting = document.getElementById('sting-layer');
            if(sting) sting.remove();
        }, 1600); 
    });
</script>

</body>
</html>
