<!-- save as index.html -->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>HOME — Retro Picks</title>
<style>
  :root{
    --bg: #0A0A1A;
    --yellow: #FFD60A;
    --cyan: #00FFFF;
    --black: #0A0A1A;
    --error: #FF3B3B;
    --header-h: 160px; /* consistent header height across pages */
    --nav-gap: 18px;
    --pixel-font: "Press Start 2P", monospace;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:var(--pixel-font);
    background:linear-gradient(180deg,#030316 0%,var(--bg) 100%);
    color:var(--yellow);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* Sticky header/banner */
  header.site-header{
    position:sticky; top:0; z-index:1100;
    height:var(--header-h);
    display:flex; align-items:flex-end; justify-content:center;
    background:#000; border-bottom:6px solid rgba(0,255,255,0.06);
    padding:8px 12px;
  }
  .banner{
    width:100%; max-width:1200px; height:100%;
    background-image:url('home.jpg');
    background-size:cover; background-position:center;
    border:6px solid rgba(0,255,255,0.06);
    box-shadow: 0 8px 30px rgba(0,0,0,0.6), 0 0 18px rgba(0,255,255,0.06);
    display:flex; align-items:flex-end; padding:12px;
    gap:12px;
  }

  /* Nav */
  nav.main-nav{width:100%; display:flex; justify-content:center;}
  .menu{
    display:flex; gap:var(--nav-gap); background:rgba(0,0,0,0.22); padding:8px 12px; border-radius:10px;
    overflow:auto; -webkit-overflow-scrolling:touch;
  }
  .menu a{
    display:inline-block; padding:10px 14px; text-decoration:none; color:var(--yellow);
    border-radius:6px; font-size:12px; white-space:nowrap; transition: transform .08s ease, box-shadow .12s;
    border:2px solid rgba(255,214,10,0.06);
    box-shadow: inset 0 -4px 0 rgba(0,0,0,0.25);
  }
  .menu a:hover{ transform:translateY(-3px) scale(1.02); box-shadow: 0 0 18px rgba(0,255,255,0.12) }
  .menu a:active{ transform:translateY(-1px) scale(.995); }

  /* active */
  .menu a.active { background:var(--yellow); color:var(--black); box-shadow: 0 0 14px rgba(255,214,10,0.35); border:2px solid rgba(0,0,0,0.6) }

  main{ max-width:1200px; margin:28px auto; padding:20px; min-height:60vh; }
  .center-cta{ display:flex; align-items:center; justify-content:center; min-height:48vh; }

  /* Register button */
  .register-btn{
    background:var(--yellow); color:var(--black); font-family:var(--pixel-font);
    padding:18px 28px; border-radius:6px; border:4px solid rgba(0,255,255,0.18);
    box-shadow: 0 8px 0 rgba(0,0,0,0.6), 0 0 20px rgba(0,255,255,0.06);
    font-size:12px; cursor:pointer; transition: transform .12s ease, box-shadow .12s ease;
  }
  .register-btn:hover{ transform:scale(1.03); box-shadow: 0 12px 0 rgba(0,0,0,0.6), 0 0 30px rgba(0,255,255,0.18); }
  .register-btn:active{ transform:translateY(2px) scale(.98); box-shadow: inset 0 4px 0 rgba(0,0,0,0.6); }

  footer.site-footer{ text-align:center; margin-top:48px; padding:18px; border-top:2px solid rgba(255,214,10,0.06); color:rgba(255,214,10,0.9); }
  footer a{ color:var(--cyan); text-decoration:none; border-bottom:1px dashed rgba(0,255,255,0.12); }

  /* Modal */
  .modal-backdrop{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:2000;
    background:linear-gradient(180deg, rgba(0,0,0,0.7), rgba(0,0,0,0.8));
    padding:20px;
  }
  .modal{ width:100%; max-width:520px; padding:20px; border-radius:8px;
    background: linear-gradient(180deg, rgba(6,6,16,0.98), rgba(3,3,10,0.98));
    border:6px solid rgba(0,255,255,0.06); box-shadow: 0 10px 40px rgba(0,0,0,0.7);
    color:var(--yellow); font-size:13px; position:relative;
  }
  .close-btn{ position:absolute; right:10px; top:10px; background:transparent; color:var(--yellow);
    border:2px solid rgba(255,214,10,0.12); padding:6px 8px; border-radius:6px; cursor:pointer; }

  input[type="email"]{ width:100%; padding:12px; background:transparent; color:var(--yellow);
    border:3px solid rgba(0,255,255,0.08); font-family:var(--pixel-font); font-size:12px; border-radius:6px;
    box-shadow: 0 0 12px rgba(0,255,255,0.04);
  }
  label{ display:block; margin:10px 0 6px; font-size:12px; }
  .checkbox-row{ display:flex; align-items:center; gap:10px; margin-top:8px; }
  .pixel-checkbox{ width:20px; height:20px; -webkit-appearance:none; appearance:none; border:3px solid rgba(255,214,10,0.12);
    background:transparent; border-radius:3px; cursor:pointer; box-shadow: 0 0 10px rgba(0,255,255,0.04);
  }
  .submit-btn{ margin-top:12px; background:var(--yellow); color:var(--black); padding:12px 16px; font-family:var(--pixel-font);
    border:4px solid rgba(0,255,255,0.12); border-radius:6px; cursor:pointer; font-size:12px;
  }
  .submit-btn[disabled]{ opacity:.45; cursor:not-allowed; transform:none; box-shadow:none; }

  .error{ color:var(--error); font-size:12px; margin-top:6px; display:none; }
  .success-panel{ display:none; text-align:center; padding:20px 8px; font-size:14px; color:var(--yellow); }

  /* big audio enable overlay (improved UX) */
  .audio-overlay{
    position:fixed; inset:0; z-index:2100; display:none; align-items:center; justify-content:center;
    background: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.85));
    padding:20px;
  }
  .audio-card{
    background: linear-gradient(180deg, rgba(6,6,16,0.98), rgba(3,3,10,0.98));
    border:6px solid rgba(0,255,255,0.08); padding:28px; border-radius:10px; text-align:center;
    box-shadow: 0 10px 40px rgba(0,0,0,0.7);
    max-width:520px;
  }
  .audio-card button{ margin-top:12px; padding:12px 20px; font-family:var(--pixel-font); border-radius:6px; border:4px solid rgba(0,255,255,0.12); background:var(--yellow); color:var(--black); cursor:pointer; font-size:13px; }

  /* small screens */
  @media (max-width:560px){
    :root{ --header-h:120px }
    .menu{ gap:10px; padding:6px }
    .register-btn{ padding:14px 20px; font-size:11px }
  }
</style>
</head>
<body>
<header class="site-header" role="banner">
  <div class="banner" role="img" aria-label="Home banner">
    <nav class="main-nav" aria-label="Primary navigation">
      <div class="menu" role="menubar" id="main-menu">
        <a href="index.html" class="active" role="menuitem">Home</a>
        <a href="predict.html" role="menuitem">Predict</a>
        <a href="standings.html" role="menuitem">Standings</a>
        <a href="rules.html" role="menuitem">Rules</a>
      </div>
    </nav>
  </div>
</header>

<main>
  <div class="center-cta">
    <button class="register-btn" id="open-register" aria-haspopup="dialog" aria-controls="register-modal">REGISTER INTEREST</button>
  </div>
</main>

<footer class="site-footer" role="contentinfo">
  <div>© Retro Picks</div>
  <div style="margin-top:6px"><a href="privacy.html" target="_blank" rel="noopener">Privacy Policy</a></div>
</footer>

<!-- audio -->
<audio id="bg-audio" src="go.mp3" loop playsinline preload="auto"></audio>

<!-- Large overlay to enable audio if autoplay blocked -->
<div class="audio-overlay" id="audio-overlay" aria-hidden="true">
  <div class="audio-card" role="dialog" aria-modal="true" aria-label="Enable audio">
    <div style="font-size:14px; color:var(--yellow);">
      <div style="font-size:20px; margin-bottom:8px">Sound is ready</div>
      <div style="opacity:.9; margin-bottom:12px">Tap to enable music (required by some browsers)</div>
      <button id="enable-audio-btn" aria-label="Enable audio now">TAP TO ENABLE AUDIO</button>
    </div>
  </div>
</div>

<!-- modal -->
<div class="modal-backdrop" id="modal-backdrop" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <button class="close-btn" id="close-modal" aria-label="Close">X</button>
    <h2 id="modal-title">REGISTER INTEREST</h2>

    <form id="interest-form" novalidate>
      <label for="email">Email address</label>
      <input id="email" name="email" type="email" placeholder="you@example.com" aria-describedby="email-error" required />
      <div id="email-error" class="error" role="alert">Please enter a valid email address.</div>

      <div class="checkbox-row">
        <input id="agree" type="checkbox" class="pixel-checkbox" />
        <label for="agree">I agree to the <a href="privacy.html" target="_blank" rel="noopener" style="color:var(--cyan)">Privacy Policy</a></label>
      </div>
      <div id="agree-error" class="error" role="alert">You must agree to the Privacy Policy.</div>

      <button id="submit-btn" class="submit-btn" type="submit" disabled>SUBMIT</button>
    </form>

    <div class="success-panel" id="success-panel" aria-live="polite">
      <svg width="80" height="80" viewBox="0 0 24 24" aria-hidden="true" style="display:block; margin:0 auto 10px">
        <rect width="24" height="24" fill="none"></rect>
        <path d="M20 6L9 17l-5-5" stroke="#00FFFF" stroke-width="1.6" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <div>Thank you! Your interest has been registered.</div>
    </div>
  </div>
</div>

<script>
/* AUDIO: attempt autoplay, show overlay fallback if blocked */
(function(){
  const audio = document.getElementById('bg-audio');
  const overlay = document.getElementById('audio-overlay');
  const enableBtn = document.getElementById('enable-audio-btn');

  function tryPlay() {
    audio.volume = 0.7;
    audio.play().then(()=>{
      overlay.style.display = 'none';
      overlay.setAttribute('aria-hidden','true');
    }).catch((e)=>{
      // autoplay blocked -> show overlay for explicit enable
      overlay.style.display = 'flex';
      overlay.removeAttribute('aria-hidden');
    });
  }

  // on load attempt
  window.addEventListener('load', tryPlay);

  // enable button
  enableBtn.addEventListener('click', function(){
    audio.play().then(()=> {
      overlay.style.display='none';
      overlay.setAttribute('aria-hidden','true');
    }).catch(()=> {
      // last resort: resume on user gesture
      try { audio.muted=false; audio.volume=0.7; } catch(e){}
      overlay.style.display='none';
      overlay.setAttribute('aria-hidden','true');
    });
  });

  // also play on first user gesture if not playing
  ['click','keydown','touchstart'].forEach(evt=>{
    window.addEventListener(evt, function handler(){
      if(audio.paused) audio.play().catch(()=>{});
      window.removeEventListener(evt, handler);
    });
  });
})();

/* Modal + Validation + Accessibility */
(function(){
  const openBtn = document.getElementById('open-register');
  const backdrop = document.getElementById('modal-backdrop');
  const closeBtn = document.getElementById('close-modal');
  const email = document.getElementById('email');
  const agree = document.getElementById('agree');
  const submitBtn = document.getElementById('submit-btn');
  const emailError = document.getElementById('email-error');
  const agreeError = document.getElementById('agree-error');
  const form = document.getElementById('interest-form');
  const successPanel = document.getElementById('success-panel');
  let lastFocus = null;

  function openModal(){
    lastFocus = document.activeElement;
    backdrop.style.display='flex';
    backdrop.removeAttribute('aria-hidden');
    email.focus();
    trapFocus();
  }
  function closeModal(){
    backdrop.style.display='none';
    backdrop.setAttribute('aria-hidden','true');
    successPanel.style.display='none';
    form.style.display='block';
    form.reset();
    submitBtn.disabled = true;
    if(lastFocus) lastFocus.focus();
  }

  openBtn.addEventListener('click', openModal);
  closeBtn.addEventListener('click', closeModal);
  backdrop.addEventListener('click', (e)=> { if(e.target === backdrop) closeModal(); });
  document.addEventListener('keydown', (e)=> { if(e.key === 'Escape' && backdrop.style.display==='flex') closeModal(); });

  function validEmail(val){
    return /\S+@\S+\.\S+/.test(val);
  }
  function updateState(){
    const ok = validEmail(email.value.trim()) && agree.checked;
    submitBtn.disabled = !ok;
  }
  email.addEventListener('input', function(){
    if(email.value.trim().length === 0) { emailError.style.display='none'; email.style.borderColor=''; }
    else if(!validEmail(email.value.trim())) { emailError.style.display='block'; email.style.borderColor='var(--error)'; }
    else { emailError.style.display='none'; email.style.borderColor=''; }
    updateState();
  });
  agree.addEventListener('change', function(){ agreeError.style.display = 'none'; updateState(); });

  form.addEventListener('submit', function(e){
    e.preventDefault();
    const okEmail = validEmail(email.value.trim());
    const okAgree = agree.checked;
    if(!okEmail){ emailError.style.display='block'; email.style.borderColor='var(--error)'; return; }
    if(!okAgree){ agreeError.style.display='block'; return; }
    // Success UI
    form.style.display='none';
    successPanel.style.display='block';
    // auto-close after 3s
    setTimeout(()=> closeModal(), 3000);
    // You can extend here to POST to a backend endpoint
  });

  // Focus trap inside modal
  function trapFocus(){
    const focusable = backdrop.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
    const first = focusable[0], last = focusable[focusable.length-1];
    backdrop.addEventListener('keydown', function(e){
      if(e.key !== 'Tab') return;
      if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
      else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
    });
  }
})();
</script>
</body>
</html>
