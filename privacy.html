<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>GOALSTORM! â€” ARCADE SUITE</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
<style>
/* --- 1. CORE PALETTE --- */
:root{
  --bg: #0f0e17;          
  --panel: #1a1a2e;       
  --neon-pink: #ff2a6d;   /* DANGER / MISS */
  --neon-cyan: #05d9e8;   /* GOAL / WIN */
  --neon-yellow: #ffc800; /* DATA / KEEPER */
  --text-main: #d1d1d1;
}

*{box-sizing:border-box;margin:0;padding:0;}

body{
    margin:0;
    background-color: var(--bg);
    background-image: 
        linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
    background-size: 20px 20px;
    color: var(--text-main);
    font-family:"VT323", monospace;
    font-size: 20px; 
    text-align:center;
    display:flex;
    flex-direction:column;
    align-items:center;
    min-height: 100vh;
    padding-bottom: 60px;
}

/* --- 2. HEADER --- */
.hero-section {
    width: 100%; max-width: 960px; padding: 30px 0; margin-bottom: 20px;
    border-bottom: 4px solid var(--neon-cyan);
    background: linear-gradient(180deg, rgba(5, 217, 232, 0) 0%, rgba(5, 217, 232, 0.1) 100%);
    position: relative; overflow: hidden;
}
.glitch {
    font-family: "Press Start 2P", cursive; font-size: 32px; 
    color: var(--neon-yellow);
    text-shadow: 4px 4px 0px var(--neon-pink), -3px -3px 0px var(--neon-cyan);
    margin: 0; line-height: 1;
}

/* --- 3. COMMON PANEL --- */
.panel {
    width: 95%; max-width: 500px; background: var(--panel);
    border: 3px solid var(--neon-cyan); padding: 20px; margin-bottom: 25px;
    box-shadow: 0 0 20px rgba(5, 217, 232, 0.1);
    position: relative;
}
h1 {
    font-family: "Press Start 2P", cursive; font-size: 16px; margin-bottom: 20px;
    color: var(--neon-cyan); border-bottom: 4px solid #000; padding-bottom: 10px; text-align: left;
}
.instructions {
    font-size: 16px; color: #888; margin-bottom: 15px; text-align:left;
}

/* --- 4. ROULETTE STYLES --- */
.roulette-wrapper { position: relative; width: 280px; height: 280px; margin: 0 auto 20px auto; }
canvas {
    border-radius: 50%; border: 5px solid #000;
    box-shadow: 0 0 15px var(--neon-pink);
    transition: transform 5s cubic-bezier(0.1, 0.7, 0.1, 1);
}
.pointer {
    position: absolute; top: -15px; left: 50%; transform: translateX(-50%);
    border-left: 15px solid transparent; border-right: 15px solid transparent;
    border-top: 30px solid var(--neon-yellow); z-index: 10;
}

/* --- 5. PENALTY GAME STYLES --- */
.goal-container {
    position: relative;
    width: 100%; height: 200px;
    background: #0f380f; /* Grass Green */
    border: 5px solid #fff; /* Goal Posts */
    border-bottom: none;
    margin-bottom: 10px;
    overflow: hidden;
    box-shadow: inset 0 0 50px rgba(0,0,0,0.8);
}

/* The Net Pattern */
.net {
    position: absolute; inset: 0;
    background-image: 
        linear-gradient(#ffffff 1px, transparent 1px),
        linear-gradient(90deg, #ffffff 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0.2;
}

/* The Keeper (SVG) */
.keeper {
    position: absolute; bottom: 0; left: 50%;
    transform: translateX(-50%);
    width: 80px; height: 100px;
    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
    z-index: 5;
}
.keeper svg { width: 100%; height: 100%; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.5)); }

/* The Ball */
.ball {
    position: absolute; bottom: -40px; left: 50%;
    transform: translateX(-50%);
    width: 25px; height: 25px;
    background: #fff;
    border-radius: 50%;
    box-shadow: inset -5px -5px 10px rgba(0,0,0,0.2);
    transition: all 0.5s ease-out;
    z-index: 10;
    opacity: 0; /* Hidden until shot */
}

/* Targeting Meter */
.meter-wrapper { position: relative; height: 40px; background: #000; border: 2px solid #555; margin-bottom: 10px; }
.zone { height: 100%; position: absolute; top:0; }
.zone-miss { background: repeating-linear-gradient(45deg, #330000, #330000 10px, #550000 10px, #550000 20px); opacity: 0.8;}
.zone-goal { background: var(--neon-cyan); opacity: 0.6; }
.zone-save { background: var(--neon-pink); opacity: 0.8; box-shadow: 0 0 15px var(--neon-pink); z-index: 2;}

/* Moving Cursor */
.cursor {
    position: absolute; top: -5px; bottom: -5px; width: 4px; background: #fff;
    left: 0; z-index: 20; box-shadow: 0 0 8px #fff;
    animation: moveCursor 0.8s linear infinite alternate;
}
.cursor.paused { animation-play-state: paused; }
@keyframes moveCursor { 0% { left: 0%; } 100% { left: 100%; } }

/* Buttons */
.arcade-btn {
    font-family: "Press Start 2P"; font-size: 14px; padding: 15px; width: 100%;
    background: var(--neon-pink); color: #fff; border: 2px solid #fff;
    cursor: pointer; box-shadow: 4px 4px 0 #000; text-transform: uppercase;
    margin-top: 10px;
}
.arcade-btn:hover:not(:disabled) { transform: translate(-2px,-2px); box-shadow: 6px 6px 0 #000; }
.arcade-btn:disabled { background: #555; cursor: not-allowed; }

.status-text {
    font-family: "VT323"; font-size: 28px; height: 30px; margin-top: 10px;
    text-transform: uppercase;
}
</style>
</head>
<body>

<div class="hero-section">
    <h1 class="glitch">GOALSTORM!</h1>
</div>

<div class="panel">
    <h1>ORACLE WHEEL</h1>
    <div class="instructions">Spin to determine the "Minute of First Goal".</div>
    
    <div class="roulette-wrapper">
        <div class="pointer"></div>
        <canvas id="wheel" width="280" height="280"></canvas>
    </div>
    
    <button class="arcade-btn" id="spinBtn">SPIN WHEEL</button>
    <div class="status-text" id="wheelResult" style="color:var(--neon-yellow)">READY</div>
</div>

<div class="panel">
    <h1>PENALTY SHOOTOUT</h1>
    <div class="instructions">
        STOP cursor on <span style="color:var(--neon-cyan)">CYAN</span> to score.<br>
        Avoid <span style="color:var(--neon-pink)">PINK</span> (Keeper Zone).
    </div>

    <div class="goal-container" id="goalBox">
        <div class="net"></div>
        
        <div class="keeper" id="keeper">
            <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="30" y="40" width="40" height="60" rx="5" fill="#ffc800" stroke="black" stroke-width="2"/>
                <path d="M30 50 L10 70" stroke="#ffc800" stroke-width="8" stroke-linecap="round"/>
                <path d="M70 50 L90 70" stroke="#ffc800" stroke-width="8" stroke-linecap="round"/>
                <circle cx="50" cy="25" r="15" fill="#ffc800" stroke="black" stroke-width="2"/>
                <circle cx="10" cy="70" r="8" fill="#fff"/>
                <circle cx="90" cy="70" r="8" fill="#fff"/>
            </svg>
        </div>

        <div class="ball" id="ball"></div>
    </div>

    <div class="meter-wrapper" id="meter">
        <div class="zone zone-miss" style="left:0; width:30%;"></div>
        <div class="zone zone-goal" style="left:30%; width:15%;"></div>
        <div class="zone zone-save" style="left:45%; width:10%;"></div>
        <div class="zone zone-goal" style="left:55%; width:15%;"></div>
        <div class="zone zone-miss" style="left:70%; width:30%;"></div>
        
        <div class="cursor" id="cursor"></div>
    </div>

    <button class="arcade-btn" id="shootBtn" onclick="takeShot()">SHOOT</button>
    <div class="status-text" id="penResult">AWAITING INPUT...</div>
</div>

<script>
/** * LOGIC 1: THE ROULETTE WHEEL 
 */
const canvas = document.getElementById('wheel');
const ctx = canvas.getContext('2d');
const spinBtn = document.getElementById('spinBtn');
const wheelResult = document.getElementById('wheelResult');

const segments = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];
const colors = segments.map(n => n===0 ? '#05d9e8' : ([1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36].includes(n) ? '#ff2a6d' : '#16213e'));
const arc = (2 * Math.PI) / segments.length;
let currentRot = 0;

function drawWheel() {
    const r = canvas.width / 2;
    ctx.clearRect(0,0,280,280);
    for(let i=0; i<segments.length; i++) {
        const ang = i * arc - Math.PI/2;
        ctx.beginPath(); ctx.moveTo(r,r); ctx.arc(r,r,r-5,ang,ang+arc);
        ctx.fillStyle = colors[i]; ctx.fill(); ctx.stroke();
        ctx.save(); ctx.translate(r,r); ctx.rotate(ang + arc/2);
        ctx.textAlign="right"; ctx.fillStyle="#fff"; ctx.font="14px Arial";
        ctx.fillText(segments[i], r-15, 5); ctx.restore();
    }
    // Center Hub
    ctx.beginPath(); ctx.arc(r,r,20,0,2*Math.PI); ctx.fillStyle="#000"; ctx.fill();
}
drawWheel();

spinBtn.addEventListener('click', () => {
    spinBtn.disabled = true;
    wheelResult.innerText = "SPINNING...";
    const rot = Math.floor(Math.random() * 360) + (5 * 360);
    currentRot += rot;
    canvas.style.transform = `rotate(${currentRot}deg)`;
    setTimeout(() => {
        spinBtn.disabled = false;
        const deg = currentRot % 360;
        const idx = Math.floor((360 - deg) / (360 / segments.length)) % segments.length;
        wheelResult.innerHTML = `RESULT: <span style="color:${colors[idx]}">${segments[idx]}</span>`;
    }, 5000);
});

/** * LOGIC 2: PENALTY SHOOTOUT 
 */
let isPaused = false;

function takeShot() {
    const cursor = document.getElementById('cursor');
    const btn = document.getElementById('shootBtn');
    const res = document.getElementById('penResult');
    const keeper = document.getElementById('keeper');
    const ball = document.getElementById('ball');

    if(!isPaused) {
        // 1. FREEZE CURSOR
        cursor.classList.add('paused');
        isPaused = true;
        btn.innerText = "RESET";
        btn.disabled = true; // Temporary disable while animating

        // 2. CALCULATE POSITION
        const meterWidth = document.getElementById('meter').offsetWidth;
        const cursorPos = cursor.offsetLeft;
        const pct = (cursorPos / meterWidth) * 100;

        // 3. ANIMATION LOGIC
        ball.style.opacity = '1';
        ball.style.bottom = '10px'; // Start position

        // Determine Outcome
        let outcome = ""; 
        
        if (pct > 45 && pct < 55) {
            // SAVED (Center)
            outcome = "SAVED";
            // Animate Ball to center
            ball.style.transform = `translate(-50%, -100px) scale(0.8)`;
            // Animate Keeper (Jump slightly)
            keeper.style.transform = `translateX(-50%) translateY(-10px) scale(1.1)`;
        } 
        else if ((pct > 30 && pct <= 45) || (pct >= 55 && pct < 70)) {
            // GOAL (Corners)
            outcome = "GOAL";
            // Left or Right side?
            let xOffset = (pct < 50) ? '-120px' : '120px'; // Move ball left or right
            // Animate Ball
            ball.style.transform = `translate(${xOffset}, -150px) scale(0.6)`;
            // Animate Keeper (Dive opposite or miss)
            let kOffset = (pct < 50) ? '20px' : '-20px'; // Dive wrong way
            keeper.style.transform = `translateX(calc(-50% + ${kOffset})) translateY(20px) rotate(${pct < 50 ? -45 : 45}deg)`;
        } 
        else {
            // MISS (Wide)
            outcome = "MISS";
            let xOffset = (pct < 30) ? '-180px' : '180px';
            ball.style.transform = `translate(${xOffset}, -120px) scale(0.5)`;
            keeper.style.transform = `translateX(-50%)`; // Keeper stands still
        }

        // 4. DISPLAY RESULT
        setTimeout(() => {
            if(outcome === "GOAL") {
                res.innerHTML = `<span style="color:var(--neon-cyan); font-size:40px; text-shadow:0 0 20px var(--neon-cyan)">GOAL!</span>`;
            } else if (outcome === "SAVED") {
                res.innerHTML = `<span style="color:var(--neon-yellow)">KEEPER SAVE!</span>`;
            } else {
                res.innerHTML = `<span style="color:var(--neon-pink)">MISSED!</span>`;
            }
            btn.disabled = false;
        }, 600);

    } else {
        // RESET
        cursor.classList.remove('paused');
        isPaused = false;
        btn.innerText = "SHOOT";
        res.innerText = "AWAITING INPUT...";
        
        // Reset Positions
        ball.style.opacity = '0';
        ball.style.transform = `translateX(-50%)`;
        ball.style.bottom = '-40px';
        keeper.style.transform = `translateX(-50%)`;
        
        // Restart animation
        void cursor.offsetWidth; 
    }
}
</script>
</body>
</html>
